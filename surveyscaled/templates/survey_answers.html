{% extends 'base.html' %}

{% block title %} {{page_title}} {% endblock %}

{% block content %}
	<div class="card shadow border-0"  style="width: 100%; padding: 15px;">
		<div class="row" style="color: #008CFF; font-weight: bold; font-size: 1.3rem; padding-bottom: 5px;">
			<div class="col-md-8" style="align-self: end;">Survey For User {{user}}</div>
			<div class="col-md-4"></div>
		</div>
		<div style="border-bottom: 2px solid #008CFF;"></div>
		<div class="alert alert-primary ps-1 mt-3">
			<strong>
				<h5>Welcome {{user}}! We would like to know about your experience about our services</h5>
			</strong>
		</div>
		<form method="post" class="mt-3">
			{% csrf_token %}
			{% for question in survey.get_questions_list %}
				<div class="form-group mb-4">
					<div class="mb-3 questions">
	    				<strong style="margin: 0 1rem;">
	    					{{question.question_no}}. 
	    				</strong>
	    				{{question.question_statement}} {% if question.question_type == 'Multiple Choices - Select One Answer' %}[Check one]{% elif question.question_type == 'Multiple Choices - Select All That Applies' %}[Check all that applies]{% endif %}
	    			</div>
	    			<div class="choices-container">
	    				{% if question.question_type == 'Yes/No Question' %}
	    					<label class="checkbox-container">Yes
							  	<input type="radio" class="bolean-radio-checkbox" name="question-number-{{question.pk}}-answer" value="Yes" required>
							  	<span class="checkmark"></span>
							</label>
							<label class="checkbox-container">No
							  	<input type="radio" class="bolean-radio-checkbox" name="question-number-{{question.pk}}-answer" value="No" required>
							  	<span class="checkmark"></span>
							</label>
	    				{% elif question.question_type == 'Scaled Question' %}
	    					{% if question.scale_type == '1-10' %}
	    						<div class="row-fluid">
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="1">
										<label>1</label>
										<span>Terrible</span>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="2">
										<label>2</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="3">
										<label>3</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="4">
										<label>4</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="5">
										<label>5</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="6">
										<label>6</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="7">
										<label>7</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="8">
										<label>8</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="9">
										<label>9</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="10">
										<label>10</label>
										<span>Amazing</span>
									</span>
								</div>
	    					{% elif question.scale_type == '1-5' %}
	    						<div class="row-fluid">
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="1">
										<label>1</label>
										<span>Terrible</span>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="2">
										<label>2</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="3">
										<label>3</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="4">
										<label>4</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="5">
										<label>5</label>
										<span>Amazing</span>
									</span>
								</div>
	    					{% elif question.scale_type == '1-4' %}
	    						<div class="row-fluid">
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="1">
										<label>1</label>
										<span>Terrible</span>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="2">
										<label>2</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="3">
										<label>3</label>
									</span>
									<span class="span1 mb-1">
										<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="4">
										<label>4</label>
										<span>Amazing</span>
									</span>
								</div>
	    					{% endif %}
	    				{% elif question.question_type == 'Scaled Question - Customer Satisfaction Survey' %}
	    					<div class="row-fluid">
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="1">
									<label>1</label>
									<span>Not Satisfied</span>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="2">
									<label>2</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="3">
									<label>3</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="4">
									<label>4</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="5">
									<label>5</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="6">
									<label>6</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="7">
									<label>7</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="8">
									<label>8</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="9">
									<label>9</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="10">
									<label>10</label>
									<span>Completely Satisfied</span>
								</span>
							</div>
	    				{% elif question.question_type == 'Scaled Question - Net Promoter Survey' %}
	    					<div class="row-fluid">
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="1">
									<label>1</label>
									<span>Terrible</span>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="2">
									<label>2</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="3">
									<label>3</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="4">
									<label>4</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="5">
									<label>5</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="6">
									<label>6</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="7">
									<label>7</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="8">
									<label>8</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="9">
									<label>9</label>
								</span>
								<span class="span1 mb-1">
									<input type="radio"  id="id-question-{{question.pk}}" class="question-radio" name="question-number-{{question.pk}}-answer" required value="10">
									<label>10</label>
									<span>Amazing</span>
								</span>
							</div>
	    				{% elif question.question_type == 'Multiple Choices - Select One Answer' %}
	    					{% for choice in question.get_question_choices %}
	    						<label class="checkbox-container">{{choice.answer_statement}}
								  	<input type="radio" class="multiple-choice-radio-checkbox" id="question-number-{{question.pk}}-choice{{choice.pk}}" name="question-number-{{question.pk}}-answer" required value="{{choice.answer_statement}}">
								  	<span class="checkmark" for="question-number-{{question.pk}}-choice{{choice.pk}}"></span>
								</label>
	    					{% endfor %}
	    				{% elif question.question_type == 'Multiple Choices - Select All That Applies' %}
	    					{% for choice in question.get_question_choices %}
	    						<label class="checkbox-container">{{choice.answer_statement}}
								  	<input type="checkbox" id="question-number-{{question.pk}}-choice{{choice.pk}}" name="question-number-{{question.pk}}-answer" value="{{choice.answer_statement}}">
								  	<span class="checkmark" for="question-number-{{question.pk}}-choice{{choice.pk}}"></span>
								</label>
	    					{% endfor %}
	    				{% elif question.question_type == 'Free Form' %}
	    					<textarea name="question-number-{{question.pk}}-answer" class="form-control textinput" required></textarea>
	    				{% endif %}
	    			</div>
				</div>
			{% endfor %}
			<!-- Demographic survey section -->
			<div class="row" style="color: #008CFF; font-weight: bold; font-size: 1.3rem; padding-bottom: 5px;">
				<div class="col-md-8" style="align-self: end;">Consumer Demographic Survey Section</div>
			</div>
			<div class="form-group mb-4">
				<div class="mb-3 questions">
    				<strong style="margin: 0 1rem;">
    					1. 
    				</strong>
    				Please indicate your gender.
    				<div class="choices-container radio-parent">
					  	{{user_form.gender}}
					</div>
    			</div>
    			<div class="mb-3 questions">
    				<strong style="margin: 0 1rem;">
    					2. 
    				</strong>
    				Please select the category that includes your age.
    				<div class="choices-container radio-parent">
					  	{{user_form.age}}
					</div>
    			</div>
    			<div class="mb-3 questions">
    				<strong style="margin: 0 1rem;">
    					3. 
    				</strong>
    				Do you currently have children under the age of 18 living in your household?
    				<div class="choices-container radio-parent">
					  	{{user_form.children_under_eighteen}}
					</div>
    			</div>
    			<div class="mb-3 questions">
    				<strong style="margin: 0 1rem;">
    					3.1. 
    				</strong>
    				If yes, how many children under the age of 18 live in your house?
    				<div class="choices-container radio-parent">
					  	{{ user_form.number_of_children }}
					</div>
    			</div>
    			<div class="mb-3 questions">
    				<strong style="margin: 0 1rem;">
    					4. 
    				</strong>
    				Which best describes your marital status?
    				<div class="choices-container radio-parent">
					  	{{user_form.martial_status}}
					</div>
    			</div>
    			<div class="mb-3 questions">
    				<strong style="margin: 0 1rem;">
    					5. 
    				</strong>
    				What best describes your employment statu?
    				<div class="choices-container radio-parent">
					  	{{user_form.employement_status}}
					</div>
    			</div>
			</div>
			<button class="btn add-more-btn mt-3" type="submit">Submit</button>
		</form>
	</div>
{% endblock %}

{% block scripts %}
	<script>
		// $(".bolean-radio-checkbox").change(function() {
		//     $(".bolean-radio-checkbox").prop('checked', false);
		//     $(this).prop('checked', true);
		// });

		// $(".multiple-choice-radio-checkbox").change(function() {
		//     $(".multiple-choice-radio-checkbox").prop('checked', false);
		//     $(this).prop('checked', true);
		// });
	</script>
{% endblock %}